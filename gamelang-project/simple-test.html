<!DOCTYPE html>
<html>
<head>
    <title>üß™ –ü—Ä–æ—Å—Ç–æ–π —Ç–µ—Å—Ç Gamelang Runtime</title>
    <style>
        body { font-family: Arial; padding: 20px; }
        button { padding: 10px 20px; margin: 10px; font-size: 16px; }
        pre { background: #f5f5f5; padding: 10px; border-radius: 5px; }
    </style>
</head>
<body>
    <h1>üß™ –¢–µ—Å—Ç Gamelang Runtime</h1>
    
    <button onclick="runTest()">‚ñ∂Ô∏è –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç</button>
    <div id="output"></div>
    
    <!-- –ü–æ–¥–∫–ª—é—á–∞–µ–º —Ñ–∞–π–ª—ã -->
    <script src="src/parser/Parser.js"></script>
    <script src="src/runtime/GameContext.js"></script>
    <script src="src/runtime/Runtime.js"></script>
    
    <script>
        function runTest() {
            const code = `
sprite hero "character.png"
hero.x = 100
hero.y = 200
hero.speed = 5

print("–°–ø—Ä–∞–π—Ç —Å–æ–∑–¥–∞–Ω!")
print("–ü–æ–∑–∏—Ü–∏—è: " + hero.x + ", " + hero.y)
print("–°–∫–æ—Ä–æ—Å—Ç—å: " + hero.speed)

# –ü—Ä–æ—Å—Ç–∞—è —Ñ—É–Ω–∫—Ü–∏—è
function move():
    hero.x += hero.speed
    print("–î–≤–∏–∂–µ–Ω–∏–µ! –ù–æ–≤–∞—è X: " + hero.x)

move()
move()
`;
            
            const parser = new GamelangParser();
            const runtime = new GamelangRuntime();
            
            try {
                const ast = parser.parse(code);
                console.log("AST:", ast);
                
                const result = runtime.execute(ast);
                
                document.getElementById('output').innerHTML = `
                    <h3>‚úÖ –¢–µ—Å—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω —É—Å–ø–µ—à–Ω–æ!</h3>
                    <pre>–í—ã–≤–æ–¥ –ø—Ä–æ–≥—Ä–∞–º–º—ã:
${result.getOutput()}</pre>
                    <pre>–°–æ—Å—Ç–æ—è–Ω–∏–µ:
${JSON.stringify(result.getState(), null, 2)}</pre>
                `;
                
            } catch (error) {
                document.getElementById('output').innerHTML = `
                    <h3>‚ùå –û—à–∏–±–∫–∞!</h3>
                    <pre>${error.message}</pre>
                    <pre>${error.stack}</pre>
                `;
            }
        }
        
        // –ê–≤—Ç–æ–∑–∞–ø—É—Å–∫
        setTimeout(runTest, 1000);
    </script>
</body>
</html>